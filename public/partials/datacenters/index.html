<div class="tabbable" id="main-tabs">
  <div class="row-fluid">
    <div class="span9 tab-layout">
      <ul class="nav nav-tabs">
        <li ng-class="overviewtab"><a href="#overview" data-toggle="tab" ng-click="change_location('overview')">仪表盘</a></li>
        <li ng-class="eventstab"><a href="#events" data-toggle="tab" ng-click="change_location('events')">平台系统事件</a></li>
        <li ng-class="hoststab"><a href="#hosts" data-toggle="tab" ng-click="change_location('hosts')">主机</a></li>
        <li ng-class="vmstab"><a href="#vms" data-toggle="tab" ng-click="change_location('vms')">虚拟机</a></li>    
        <li ng-class="networkstab"><a href="#networks" data-toggle="tab" ng-click="change_location('networks')">网络</a></li>
        <li ng-class="storagestab"><a href="#storages" data-toggle="tab" ng-click="change_location('storages')">存储</a></li>
        <li ng-class="backupstab"><a href="#backups" data-toggle="tab">备份</a></li>
        <li ng-class="taskstab"><a href="#tasks" data-toggle="tab" ng-click="change_location('tasks')">任务</a></li>
      </ul>
    </div>
    <div class="span3 tab-layout">
      <button class="btn btn-info" ng-click="add_bookmark()">存为书签</button>
    </div>
  </div>
  <div class="tab-content">
    <div id="overview" class="tab-pane {{overviewtab}}" style="padding:0px 10px">
      <ng:include src="'/partials/datacenters/_overview.html'" />
    </div>
    <div id="events" class="tab-pane {{eventstab}}" style="padding:0px 10px">
      <ng:include src="'/partials/datacenters/_events.html'" />
    </div>
    <div id="hosts" class="tab-pane {{hoststab}}" style="padding:0px 10px">
      <ng:include src="'/partials/shared/_host_list.html'" />
    </div>
    <div id="vms" class="tab-pane {{vmstab}}" style="padding:0px 10px">
      <ng:include src="'/partials/shared/_vm_list.html'" />
    </div>    
    <div id="networks" class="tab-pane {{networkstab}}" style="padding:0px 10px">
      <ng:include src="'/partials/networks/_network_types.html'" />
    </div>
    <div id="storages" class="tab-pane {{storagestab}}" style="padding:0px 10px">
      <ng:include src="'/partials/storages/_storage_list.html'" />
    </div>
    <div id="backups" class="tab-pane {{backupstab}}" style="padding:0px 10px">
      <ng:include src="'/partials/shared/_backups.html'" />
    </div>
    <div id="tasks" class="tab-pane" style="padding:0px 10px"> 
      <section id="directives-calendar">
        <div class="row-fluid">
          <div class="span2">
            <p><button type="button" class="btn btn-primary" ng-click="add_task()">添加任务</button></p>
            <ul class="unstyled">
              <li ng-repeat="e in events">
                <div class="alert alert-info">
                  <a class="close" ng-click="remove($index)"><i class="icon-remove"></i></a>
                  <b> {{e.title}}</b> - {{e.start | date:"MMM dd"}}
                </div>
              </li>
            </ul>
          </div>
          <div class="span10">
            <div class="alert-success calAlert" ng-show="alertMessage">{{alertMessage}}</div>
            <div class="well">
              <div class="calendar" ng-model="eventSources" calendar="currentCalendar" config="uiConfig.calendar" ui-calendar="uiConfig.calendar"></div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>

<script type="text/javascript">
jQuery(function($){
  $('#main-tabs').tabs({
    activate: function(e, ui){
      $(".calendar").fullCalendar('render');
    }
  });
});
</script>
