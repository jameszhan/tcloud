<div class="tabbable">
  <ul class="nav nav-tabs" style="background-color:#F2F2F2;">
    <li class="active"><a href="#overview" data-toggle="tab">概览</a></li>
    <li><a href="#vms" data-toggle="tab">虚拟机</a></li>
  </ul>
  <div class="tab-content">
    <div id="overview" class="tab-pane active" style="padding:0px 10px">
      <div class="row-fluid">
        <div class="span3">
          <script type="text/javascript">
            $(function() {
              var data = [],
                series = 5;
              for (var i = 0; i < series; i++) {
                data[i] = {
                  label: "vm " + (i + 1),
                  data: Math.floor(Math.random() * 100) + 1
                }
              }

              var placeholder = $("#placeholder");

                $.plot(placeholder, data, {
                  series: {
                    pie: { 
                      innerRadius: 0.4,
                      show: true
                    }
                  }
                });
            });
          </script>
          <div style="width: 280px; height: 150px;">
            <div id="placeholder" style="with:100%; height: 100%;"></div>
          </div>
        </div>
        <div class="span9">
          <table class="table">
            <thead>
              <th>主机信息</th>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div>状态:</div>
                  <div><span class="label label-success">{{host.status}}</span></div> 
                </td> 
                <td>
                  <div>虚拟机:</div>
                  <div><span class="label label-info">{{host.virtual_machines.length}}</span></div>
                </td>
                <td>
                  <div>内存已缓存:</div>
                  <div><span class="label label-warning">{{host.memory_cache_usage}}GB</span></div>
                </td>
              </tr>
              <tr>
                <td>
                  <div>cpu:</div>
                  <div><span class="badge badge-success">{{host.cpu_count}}</span></div>
                </td>
                <td>
                  <div>内存:</div>
                  <div><span class="label label-info">{{host.total_memory}}GB</span></div>
                </td>
                <td>
                  <div>内存可用:</div>
                <div><span class="label label-warning">{{host.memory_idle}}GB</span></div>
                </td>
              </tr>
              <tr>
                <td>
                  <div>硬盘大小:</div>
                  <div><span class="label label-info">{{host.hard_disk_capacity}}GB</span></div>
                </td>
                <td>
                  <div>内存使用中:</div>
                  <div><span class="label label-warning">{{host.memory_usage}}GB</span></div>
                </td>
                <td>
                  <div>内存条数:</div>
                  <div><span class="badge">{{host.memory_count}}</span></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="tab-pane" style="padding:0px 10px; margin-bottom: 10px; text-align: center;">
        <div class="input-prepend input-append">
          <button type="button" class="btn" ng-click="do_edit()">修改</button>
          <button type="button" class="btn">移除</button>
          <button type="button" class="btn">维护</button>
          <button type="button" class="btn">激活</button>
        </div>
        <div class="input-append input-prepend">
          <div class="btn-group">
            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
              创建
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
              <li><a ng-click="do_create()">创建服务器</a></li>
              <li><a href="#/setup_vm">创建桌面</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="row-fluid">
        <div class="span4">
          <script type="text/javascript">

          $(function() {

            var data = [],
              totalPoints = 200;

            function getRandomData() {

              if (data.length > 0)
                data = data.slice(1);

              while (data.length < totalPoints) {

                var prev = data.length > 0 ? data[data.length - 1] : 50,
                  y = prev + Math.random() * 10 - 5;

                if (y < 0) {
                  y = 0;
                } else if (y > 100) {
                  y = 100;
                }

                data.push(y);
              }

              var res = [];
              for (var i = 0; i < data.length; ++i) {
                res.push([i, data[i]])
              }
              return res;
            }

            var plot = $.plot("#cpuplaceholder", [ getRandomData() ], {
              yaxis: {
                min: 0,
                max: 100
              },
              xaxis: {
                show: true
              }
            });

            function update() {
              plot.setData([getRandomData()]);
              plot.draw();
              setTimeout(update, 30);
            }
            update();
          });
          </script>
          CPU使用率
          <div class="chart-container">
            <div id="cpuplaceholder" class="chart-placeholder"></div>
          </div>
        </div>
        <div class="span4">
          <script type="text/javascript">

          $(function() {

            // We use an inline data source in the example, usually data would
            // be fetched from a server

            var data = [],
              totalPoints = 200;

            function getRandomData() {

              if (data.length > 0)
                data = data.slice(1);

              // Do a random walk

              while (data.length < totalPoints) {

                var prev = data.length > 0 ? data[data.length - 1] : 1500,
                  y = prev + Math.random() * 100 - 50;
                if (y < 0) {
                  y = 0;
                } else if (y > 3000) {
                  y = 3000;
                }

                data.push(y);
              }

              // Zip the generated y values with the x values

              var res = [];
              for (var i = 0; i < data.length; ++i) {
                res.push([i, data[i]])
              }

              return res;
            }

            var plot = $.plot("#memoryplaceholder", [ getRandomData() ], {
              yaxis: {
                min: 0,
                max: 3000
              },
              xaxis: {
                show: true
              }
            });

            function update() {

              plot.setData([getRandomData()]);
              // Since the axes don't change, we don't need to call plot.setupGrid()

              plot.draw();
              setTimeout(update, 100);
            }

            update();

          });
          </script>
          内存使用量
          <div class="chart-container">
            <div id="memoryplaceholder" class="chart-placeholder"></div>
          </div>
        </div>
        <div class="span4">
          <script type="text/javascript">

          $(function() {

            // We use an inline data source in the example, usually data would
            // be fetched from a server

            var data = [],
              totalPoints = 300;

            function getRandomData() {

              if (data.length > 0)
                data = data.slice(1);

              // Do a random walk

              while (data.length < totalPoints) {

                var prev = data.length > 0 ? data[data.length - 1] : 500,
                  y = prev + Math.random() * 100 - 50;

                if (y < 0) {
                  y = 0;
                } else if (y > 1000) {
                  y = 1000;
                }

                data.push(y);
              }

              // Zip the generated y values with the x values

              var res = [];
              for (var i = 0; i < data.length; ++i) {
                res.push([i, data[i]])
              }

              return res;
            }

            var plot = $.plot("#netplaceholder", [ getRandomData() ], {
              yaxis: {
                min: 0,
                max: 1000
              },
              xaxis: {
                show: true
              }
            });

            function update() {

              plot.setData([getRandomData()]);
              // Since the axes don't change, we don't need to call plot.setupGrid()

              plot.draw();
              setTimeout(update, 50);
            }

            update();

          });
          </script>
           以太网
          <div class="chart-container">
            <div id="netplaceholder" class="chart-placeholder"></div>
          </div>
        </div>
      </div>      
    </div>
    <div id="vms" class="tab-pane" style="padding:0px 10px">
      <ng:include src="'/partials/shared/_vm_list.html'" />
    </div>  
  </div>
</div>